# Zoltraakを触ってみよう

## 詳細情報
自作コンパイラ（自然言語プログラム）を自由に作成し変更修正、保存が簡単に行えるようになりました。

システム構文は以下の通りです。
```
zoltraak プロンプト -c dev_obj
zoltraak プロンプト -cc 自作コンパイラ
```

魔法構文的にはこうです。
```
zoltraak 呪文 -c 魔導書
zoltraak 呪文 -cc 自作魔導書
```

＊実行範囲は要件定義書生成とディレクトリ生成までです。
＊Mac & Cursor環境にて確認済

## 手順
1. pip install --upgrade zoltraak

まずは以下のコマンドから、
```
zoltraak "〜〜なシステムを作りたい" -c dev_obj
```

2. 後続スレッドに test_dev_obj.md というファイルの中身を添付しております。これをzoltraakを実行する所と同じ階層に作成し中身を貼り付けてください。

3. test_dev_obj.mdを以下のルールに従って自分の定義書生成プログラムに書き換えましょう。
   - {prompt} には zoltraakの後のプロンプト（呪文）が入るので消さないでください。
   - 2. ファイル・フォルダ構成 も消さないでください。
   - それ以外は自由に変えて大丈夫（なはず）です。

4. 以下のコマンドを実行します。
   ```
   zoltraak プロンプト -c dev_obj
   zoltraak "コーヒーショップ顧客管理システムを作りたい" -cc ./test_dev_obj.md
   ```

5. zoltraak requirements/~~~.md が貼り付けできるようになっているはずなので実行してください。

6. ディレクトリが構築されます。
   cursor, vscodeにてopen コマンドが起動しない方は以下を参照してください。
   https://note.com/88gram/n/n4ead3a677b83

＊ 全てClaude3 Haikuにより実行されています（一回あたり１円ほどのはず、ご自身で確認ください）

<a id="natural-language-programming"></a>
### 自然言語プログラミングの作法
1. **記述**: 自然言語に近い形でプログラムの仕様を記述する
2. **実行**: 記述したプログラムを実行する
3. **ドキュメントプログラミング**: プログラムの動作を説明するドキュメントを生成する
4. **記述**: ドキュメントを参考に、プログラムを改善・修正する


具体例
```md
# 要件定義書`を元に、以下の指示に従ってPythonでディレクトリ構成を構築するコードを記述

## 指示
1. コードブロックは使用せず、Pythonコードでディレクトリとファイルの構成を作成する
2. ディレクトリ構成は `ルートディレクトリ` の配下にすべて作成すること、README.md を除いて、それ以外のファイルは記述
    2.1 os.mkdirsを使用して`ルートディレクトリ`を作成する
    2.2 os.path.joinとos.mkdirsを使用して、詳細なディレクトリ構成を作成する  
    2.3 osモジュールの機能を使用して、必要なファイル群を作成する（ディレクトリの中に何もない場合は新しく作る）
        with open(os.path.join(ディレクトリパス, 'ファイル名'), 'w') as f:
    pass
    2.4 
    ルートディレクトリにREADME.mdファイルを書き込みモードで開く
    - `要件定義ファイル`の内容を読み込みモードで開く
    -- `要件定義ファイル`の内容をREADME.mdに書き込む
3. ディレクトリを新しく開く
pythonのsubprocessを使って code `ルートディレクトリ`
pythonのsubprocessを使って code `ルートディレクトリ`/README.md
4. 生成したコードは即座に実行可能な状態にすること
5. 出力先ファイルはpythonであり、プログラムコードのみを記載し文言はコメントアウトで記載すること

# 引用
- `要件定義書` = [source_content]
- `要件定義書ファイル` = [source_file_path]
- `ルートディレクトリ` = generated/[source_file_name]/
```